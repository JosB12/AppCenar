<div class="container mt-5">
  <div class="card shadow p-4">
    <h2 class="mb-4 text-center">Editar Producto</h2>

    <form action="/merchant/products/edit" method="POST" enctype="multipart/form-data">
      <input type="hidden" name="_csrf" value="{{csrfToken}}">
      <input type="hidden" name="id" value="{{product.id}}">

      <div class="form-group">
        <label for="name">Nombre del producto </label>
        <input
          type="text"
          class="form-control"
          id="name"
          name="name"
          value="{{product.name}}"
          required
        >
      </div>

      <div class="form-group">
        <label for="description">Descripción </label>
        <input
          type="text"
          class="form-control"
          id="description"
          name="description"
          value="{{product.description}}"
          required
        >
      </div>

      <div class="form-group">
        <label for="price">Precio (RD$) *</label>
        <input
          type="number"
          class="form-control"
          id="price"
          name="price"
          value="{{product.price}}"
          step="0.01"
          min="0"
          required
        >
      </div>

      <div class="form-group">
        <label for="categoryId">Categoría </label>
        <select class="form-control" id="categoryId" name="categoryId" required>
          {{#each categories}}
            <option value="{{this.id}}" {{#if (eq this.id ../product.categoryId)}}selected{{/if}}>
              {{this.name}}
            </option>
          {{/each}}
        </select>
      </div>

      <div class="form-group">
        <label>Imagen actual:</label><br>
        {{#if product.image}}
          <img src="/images/{{product.image}}" alt="Imagen actual" class="img-thumbnail" style="max-width: 200px;">
        {{else}}
          <p class="text-muted">No hay imagen cargada</p>
        {{/if}}
      </div>

      <div class="form-group">
        <label for="image">Actualizar imagen (opcional)</label>
        <input type="file" class="form-control-file" id="image" name="image">
      </div>

      <div class="form-group text-center mt-4">
        <button type="submit" class="btn btn-warning px-4 mr-2">Guardar</button>
        <a href="/merchant/products" class="btn btn-secondary px-4">Volver</a>
      </div>
    </form>
  </div>
</div>


