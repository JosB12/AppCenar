<main class="container mt-4">
  <h2 class="mb-4 text-center">Mis Pedidos</h2>

  {{#if orders.length}}
    <div class="list-group">
      {{#each orders}}
        <a href="/customer/orders/{{this.id}}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center mb-3 p-3 shadow-sm rounded">
          <div class="d-flex align-items-center">
            {{#if this.merchant.merchantLogo}}
              <img src="/images/{{this.merchant.merchantLogo}}" alt="{{this.merchant.merchantName}}"
                   class="rounded mr-3" style="width: 60px; height: 60px; object-fit: cover;">
            {{else}}
              <div class="bg-light rounded d-flex justify-content-center align-items-center mr-3"
                   style="width: 60px; height: 60px;">Sin logo</div>
            {{/if}}

            <div>
              <div class="mb-1">
                <span class="badge text-uppercase px-2 py-1
                  {{#if (eq this.status "pendiente")}}badge-warning text-dark{{/if}}
                  {{#if (eq this.status "EN PROCESO")}}badge-primary{{/if}}
                  {{#if (eq this.status "completado")}}badge-success{{/if}}">
                  {{this.status}}
                </span>
                <small class="text-muted ml-2">{{this.formattedDate}} • {{this.formattedTime}}</small>
              </div>

              <h6 class="mb-1 font-weight-bold">{{this.merchant.merchantName}}</h6>
            </div>
          </div>

          <div class="text-right">
            <p class="mb-1 font-weight-bold">RD$ {{this.total}}</p>
            <small class="text-muted">{{this.totalProducts}} producto(s)</small>
          </div>
        </a>
      {{/each}}
    </div>
  {{else}}
    <div class="alert alert-info text-center">
      No tienes pedidos aún.
    </div>
  {{/if}}
</main>
